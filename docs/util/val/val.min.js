/* val.min.js (c) Gon Y. Yi 2021 <https://gonyyi.com/copyright.txt> */ 
var gyyStatusC1="",baseURL="";function gyyStatusCls(){var e=document.createElement("style");e.type="text/css",e.innerHTML=`.${gyyStatusC1}_fail,.${gyyStatusC1}_pending,.${gyyStatusC1}_ok,.${gyyStatusC1}_unknown \n      {display:inline-block; border:1px solid gray; \n        padding:0 .4em; margin: 0 .2em 0 0; border-radius: 1em;\n        text-align: center; font-size: .8em;\n        width: 6rem; font-family:"Helvetica","Arial",sans-serif;\n        background-color:#999; color: #fff; border-color: #999;}\n      .${gyyStatusC1}_pending {border-color: #ddd;color:white;background-color: #ddd;}\n      .${gyyStatusC1}_fail {border-color: #FF4A31;color:white;background-color: #FF4A31;}\n      .${gyyStatusC1}_ok {border-color: #397EFF;color:white;background-color:#397EFF;}\n      .msg {padding: .1em .5em; margin: 0 0 0 2em; border-radius:0; \n        border: .2em solid #999; border-width: 0 0 0 .4em; \n        background-color:transparent; font-size:.8em; text-transform:none;}\n      .res_error {border-color:#ff0000;} \n      .res_io {border-color:#ff9000;}\n      .res_warning {border-color:#ffdd00;}`,document.getElementsByTagName("head")[0].appendChild(e)}function gyyStatusUpBtnUpdate(e,t,n){if(a=document.getElementById(`gyy_status_${e}`),a.classList.remove(`${gyyStatusC1}_ok`),a.classList.remove(`${gyyStatusC1}_fail`),a.classList.remove(`${gyyStatusC1}_pending`),a.classList.remove(`${gyyStatusC1}_unknown`),a.classList.add(`${gyyStatusC1}_${t}`),"unknown"==t&&(a.innerHTML="err"),n.length>0)for(i=0;i<n.length;i++)pre=document.createElement("pre"),errType=n[i].subType?n[i].subType:n[i].type,pre.classList.add("msg",`res_${errType}`),pre.innerHTML=i+". ["+errType.toUpperCase()+"] ",pre.innerHTML+=n[i].message,DST.appendChild(pre)}function gyyStatusUpBtn(e,t,n){URL=e.getAttribute("title"),a=document.createElement("a"),a.href=`https://validator.w3.org/nu/?doc=${baseURL}${URL}`,span=document.createElement("span"),span.id=`gyy_status_${t}`,span.classList.add(gyyStatusC1+"_"+n),span.innerHTML="-",a.appendChild(span),e.appendChild(a);{let t=document.createElement("a");t.href=baseURL+URL,t.innerHTML=URL,e.appendChild(t)}}function gyyStatusCheck(e,t){URL=e.getAttribute("title"),a=document.getElementById(`gyy_status_${t}`),fetch(`https://validator.w3.org/nu/?out=json&doc=${baseURL}${URL}`).then(e=>e.json()).then(e=>gyyStatusUpBtnUpdate(t,"ok",e.messages)).catch(e=>{e instanceof TypeError?gyyStatusUpBtnUpdate(t,"unknown",[]):console.error(`WARN: fetch(${baseURL}${URL}) ==> ${e}`)})}function gyyStatusDraw(e,t){gyyStatusUpBtn(e,t,"pending")}function VAL(e,t,n){console.log("(c) Gon Y. Yi 2021 <https://gonyyi.com/copyright>"),baseURL=n,gyyStatusC1=e,1==t&&gyyStatusCls();var a=0;Array.from(document.getElementsByClassName(gyyStatusC1)).forEach(e=>{gyyStatusDraw(e,a),gyyStatusCheck(e,a),a+=1})}
