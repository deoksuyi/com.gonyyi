<!DOCTYPE html> 
<html lang="en">
  <head>
    <title>gon/y/yi</title>
    <link rel="stylesheet" type="text/css" href="https://gonyyi.com/css/base.min.css"/>
    <style>
      html {background-color:initial;}
      h1 a{color:inherit;}
      body.dark-mode {
        color: #FFF;
        background-color: #333;
      }
      body.normal-mode {
        color: #333;
        background-color: #FFF;      
      }
      button {
        border-width: 0;
        border-radius: 2rem;
        border-color:  #999;
        background-color: #999;
        color: #fff;
        padding: 1rem;
      }
    </style>
    <script>
      // On page load set the theme.
      (function() {
        let onpageLoad = localStorage.getItem("theme") || "normal-mode";
        console.log("onpageLoad:"+onpageLoad);
        let element = document.body;
        element.classList.add(onpageLoad); // either "dark-mode" or "normal-mode"
        document.getElementById("theme").textContent =
          localStorage.getItem("theme") || "normal-mode";
          // can this be just onpageLoad? 
      })();
      
      function themeToggle() {
        // element.classList.toggle("dark-mode");
        let element = document.body;
        let theme = localStorage.getItem("theme");
        if (theme && theme === "normal-mode") {
          localStorage.setItem("theme", "dark-mode");
        } else {        
          localStorage.setItem("theme", "normal-mode");
        }
        getStatus();
      }
      
      // this reflects screen based on what's current.
      function getStatus() {
        let element = document.body;
        mode = localStorage.getItem("theme");
        document.getElementById("theme").textContent = mode;
        if (mode == "dark-mode") {
          element.classList.remove("normal-mode");          
          element.classList.add("dark-mode");
        } else {
          element.classList.remove("dark-mode");
          element.classList.add("normal-mode");        
        }
      }
    </script>
  </head>
  <body onload="getStatus();">
    <h1><a href="https://gonyyi.com">gon/y/yi</a></h1>

    <hr/>    
    <h2>Toggle test</h2>
    <p>
      <button type="button" onclick="themeToggle();">Theme Toggle</button>    
    </p>
    <div>
      <div id="theme"></div>
    </div>
    
    <hr/>
    <footer>Copyright &copy; Gon Y. Yi 2020-2021</footer>
  </body>
</html>
